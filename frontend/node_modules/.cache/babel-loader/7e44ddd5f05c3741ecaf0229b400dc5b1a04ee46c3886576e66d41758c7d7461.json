{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogContentText from'@mui/material/DialogContentText';import DialogTitle from'@mui/material/DialogTitle';import{IconButton}from'@mui/material';import DeleteIcon from'@mui/icons-material/Delete';import{DeleteProjectById}from'../../redux/actions/projectActions';import{SendSuccessNotification}from'../Alert';import{GetTokenUser}from'../../redux/selectors/userSelectors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DeleteProjectDialog(project){//const  tokenUser = localStorage.getItem('access_token')\nconsole.log(project);//const tokenUser = localStorage.getItem('access_token')\nvar tokenUser=GetTokenUser();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var DeleteProject=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return DeleteProjectById(tokenUser,project.project);case 3:handleClose();SendSuccessNotification('Project delete with success');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function DeleteProject(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleClickOpen,title:\"Permanently Delete\",children:/*#__PURE__*/_jsx(DeleteIcon,{style:{color:'red'}})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Delete projet definitely?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{id:\"alert-dialog-description\",children:\"Your project will definitely be deleted.\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return DeleteProject();},autoFocus:true,children:\"Agree\"})]})]})]});}","map":{"version":3,"names":["React","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","IconButton","DeleteIcon","DeleteProjectById","SendSuccessNotification","GetTokenUser","DeleteProjectDialog","project","console","log","tokenUser","useState","open","setOpen","handleClickOpen","handleClose","DeleteProject","error","color"],"sources":["C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/src/components/dialog/DeleteProject.js"],"sourcesContent":["import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { IconButton } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { DeleteProjectById } from '../../redux/actions/projectActions';\r\nimport { SendSuccessNotification } from '../Alert';\r\nimport { GetTokenUser } from '../../redux/selectors/userSelectors';\r\n\r\nexport default function DeleteProjectDialog(project) {\r\n    //const  tokenUser = localStorage.getItem('access_token')\r\n    console.log(project)\r\n    //const tokenUser = localStorage.getItem('access_token')\r\n    const tokenUser = GetTokenUser()\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const DeleteProject = async() => {\r\n    try{\r\n        await DeleteProjectById(tokenUser, project.project)  \r\n        handleClose()\r\n        SendSuccessNotification('Project delete with success')\r\n     \r\n    }\r\n    catch(error){\r\n        console.error(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n         <IconButton onClick={handleClickOpen} title=\"Permanently Delete\">\r\n                  <DeleteIcon style={{ color: 'red' }} />\r\n                </IconButton> \r\n    \r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Delete projet definitely?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n          Your project will definitely be deleted.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Disagree</Button>\r\n          <Button onClick={() => DeleteProject()} autoFocus>\r\n            Agree\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}"],"mappings":"0bAAA,MAAO,GAAKA,MAAK,KAAM,OAAO,CAC9B,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAOC,kBAAiB,KAAM,iCAAiC,CAC/D,MAAOC,YAAW,KAAM,2BAA2B,CACnD,OAASC,UAAU,KAAQ,eAAe,CAC1C,MAAOC,WAAU,KAAM,4BAA4B,CACnD,OAASC,iBAAiB,KAAQ,oCAAoC,CACtE,OAASC,uBAAuB,KAAQ,UAAU,CAClD,OAASC,YAAY,KAAQ,qCAAqC,CAAC,wFAEnE,cAAe,SAASC,oBAAmB,CAACC,OAAO,CAAE,CACjD;AACAC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC,CACpB;AACA,GAAMG,UAAS,CAAGL,YAAY,EAAE,CAClC,oBAAwBX,KAAK,CAACiB,QAAQ,CAAC,KAAK,CAAC,oDAAtCC,IAAI,qBAAEC,OAAO,qBAEpB,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5BD,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,GAAME,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBF,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,CAED,GAAMG,cAAa,4FAAG,0KAEVb,kBAAiB,CAACO,SAAS,CAAEH,OAAO,CAACA,OAAO,CAAC,QACnDQ,WAAW,EAAE,CACbX,uBAAuB,CAAC,6BAA6B,CAAC,gFAItDI,OAAO,CAACS,KAAK,aAAO,oEAEzB,kBAVKD,cAAa,0CAUlB,CAED,mBACE,MAAC,KAAK,CAAC,QAAQ,yBACV,KAAC,UAAU,EAAC,OAAO,CAAEF,eAAgB,CAAC,KAAK,CAAC,oBAAoB,uBACvD,KAAC,UAAU,EAAC,KAAK,CAAE,CAAEI,KAAK,CAAE,KAAM,CAAE,EAAG,EAC5B,cAEvB,MAAC,MAAM,EACL,IAAI,CAAEN,IAAK,CACX,OAAO,CAAEG,WAAY,CACrB,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,wBAE3C,KAAC,WAAW,EAAC,EAAE,CAAC,oBAAoB,UACjC,2BAA2B,EAChB,cACd,KAAC,aAAa,wBACZ,KAAC,iBAAiB,EAAC,EAAE,CAAC,0BAA0B,UAAC,0CAEjD,EAAoB,EACN,cAChB,MAAC,aAAa,yBACZ,KAAC,MAAM,EAAC,OAAO,CAAEA,WAAY,UAAC,UAAQ,EAAS,cAC/C,KAAC,MAAM,EAAC,OAAO,CAAE,yBAAMC,cAAa,EAAE,EAAC,CAAC,SAAS,eAAC,OAElD,EAAS,GACK,GACT,GACM,CAErB"},"metadata":{},"sourceType":"module","externalDependencies":[]}