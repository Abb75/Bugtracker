{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogContentText from'@mui/material/DialogContentText';import DialogTitle from'@mui/material/DialogTitle';import{SendSuccessNotification}from'../Alert';import Delete from'@mui/icons-material/Delete';import{DeleteBugApi,GetBugArchivedApi,GetBugProjectApi}from'../../redux/actions/bugActions';import{useDispatch}from'react-redux';import{GetTokenUser}from'../../redux/selectors/userSelectors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DeleteBugDialog(_ref){var bug=_ref.bug,project=_ref.project;//const tokenUser = localStorage.getItem('access_token')\nvar tokenUser=GetTokenUser();var dispatch=useDispatch();//const  tokenUser = localStorage.getItem('access_token')\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var bugDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(bug,project);_context.prev=1;_context.next=4;return DeleteBugApi(bug,project,tokenUser);case 4:SendSuccessNotification('Bug delete with success !');dispatch(GetBugProjectApi(project,tokenUser));dispatch(GetBugArchivedApi(tokenUser));handleClose();_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function bugDelete(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClickOpen,variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(Delete,{}),style:{borderRadius:20,boxShadow:'0px 4px 10px rgba(0, 0, 0, 0.1)',backgroundColor:'transparent',color:'red',textTransform:'none',padding:'10px 20px',fontSize:'16px'},children:\"Delete\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Delete bug definitely ?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{id:\"alert-dialog-description\",children:\"Your bug will definitely be deleted.\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return bugDelete();},autoFocus:true,children:\"Agree\"})]}),\"s\"]})]});}","map":{"version":3,"names":["React","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","SendSuccessNotification","Delete","DeleteBugApi","GetBugArchivedApi","GetBugProjectApi","useDispatch","GetTokenUser","DeleteBugDialog","bug","project","tokenUser","dispatch","useState","open","setOpen","handleClickOpen","handleClose","bugDelete","console","log","error","borderRadius","boxShadow","backgroundColor","color","textTransform","padding","fontSize"],"sources":["C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/src/components/dialog/DeleteBug.js"],"sourcesContent":["import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { SendSuccessNotification } from '../Alert';\r\nimport Delete from '@mui/icons-material/Delete';\r\nimport { DeleteBugApi, GetBugArchivedApi, GetBugProjectApi } from '../../redux/actions/bugActions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { GetTokenUser } from '../../redux/selectors/userSelectors';\r\n\r\nexport default function DeleteBugDialog({bug, project}) {\r\n  //const tokenUser = localStorage.getItem('access_token')\r\nconst tokenUser = GetTokenUser()\r\n  \r\n const dispatch = useDispatch()\r\n //const  tokenUser = localStorage.getItem('access_token')\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const bugDelete = async() => {\r\n    console.log(bug, project)\r\n    try{\r\n       await  DeleteBugApi(bug, project, tokenUser)\r\n       SendSuccessNotification('Bug delete with success !')\r\n       dispatch(GetBugProjectApi(project, tokenUser))\r\n       dispatch(GetBugArchivedApi(tokenUser))\r\n       handleClose()\r\n    }catch(error){\r\n        console.error(error)\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n         <Button\r\n            onClick={handleClickOpen}           \r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            startIcon={<Delete />}\r\n            style={{\r\n            borderRadius: 20,\r\n            boxShadow: '0px 4px 10px rgba(0, 0, 0, 0.1)',\r\n            backgroundColor: 'transparent',\r\n            color: 'red',\r\n            textTransform: 'none',\r\n            padding: '10px 20px',\r\n            fontSize: '16px',\r\n            }}\r\n            \r\n        >Delete</Button>\r\n\r\n    \r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Delete bug definitely ?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n          Your bug will definitely be deleted.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Disagree</Button>\r\n          <Button onClick={() => bugDelete()} autoFocus>\r\n            Agree\r\n          </Button>\r\n        </DialogActions>s\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}"],"mappings":"0bAAA,MAAO,GAAKA,MAAK,KAAM,OAAO,CAC9B,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAOC,kBAAiB,KAAM,iCAAiC,CAC/D,MAAOC,YAAW,KAAM,2BAA2B,CACnD,OAASC,uBAAuB,KAAQ,UAAU,CAClD,MAAOC,OAAM,KAAM,4BAA4B,CAC/C,OAASC,YAAY,CAAEC,iBAAiB,CAAEC,gBAAgB,KAAQ,gCAAgC,CAClG,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,YAAY,KAAQ,qCAAqC,CAAC,wFAEnE,cAAe,SAASC,gBAAe,MAAiB,IAAfC,IAAG,MAAHA,GAAG,CAAEC,OAAO,MAAPA,OAAO,CACnD;AACF,GAAMC,UAAS,CAAGJ,YAAY,EAAE,CAE/B,GAAMK,SAAQ,CAAGN,WAAW,EAAE,CAC9B;AACC,oBAAwBZ,KAAK,CAACmB,QAAQ,CAAC,KAAK,CAAC,oDAAtCC,IAAI,qBAAEC,OAAO,qBAEpB,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5BD,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,GAAME,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBF,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,CAED,GAAMG,UAAS,6FAAG,oIAChBC,OAAO,CAACC,GAAG,CAACX,GAAG,CAAEC,OAAO,CAAC,uCAEfP,aAAY,CAACM,GAAG,CAAEC,OAAO,CAAEC,SAAS,CAAC,QAC5CV,uBAAuB,CAAC,2BAA2B,CAAC,CACpDW,QAAQ,CAACP,gBAAgB,CAACK,OAAO,CAAEC,SAAS,CAAC,CAAC,CAC9CC,QAAQ,CAACR,iBAAiB,CAACO,SAAS,CAAC,CAAC,CACtCM,WAAW,EAAE,kFAEZE,OAAO,CAACE,KAAK,aAAO,qEAEzB,kBAXKH,UAAS,2CAWd,CAGD,mBACE,MAAC,KAAK,CAAC,QAAQ,yBACV,KAAC,MAAM,EACJ,OAAO,CAAEF,eAAgB,CACzB,OAAO,CAAC,WAAW,CACnB,KAAK,CAAC,SAAS,CACf,SAAS,cAAE,KAAC,MAAM,IAAI,CACtB,KAAK,CAAE,CACPM,YAAY,CAAE,EAAE,CAChBC,SAAS,CAAE,iCAAiC,CAC5CC,eAAe,CAAE,aAAa,CAC9BC,KAAK,CAAE,KAAK,CACZC,aAAa,CAAE,MAAM,CACrBC,OAAO,CAAE,WAAW,CACpBC,QAAQ,CAAE,MACV,CAAE,UAEL,QAAM,EAAS,cAGlB,MAAC,MAAM,EACL,IAAI,CAAEd,IAAK,CACX,OAAO,CAAEG,WAAY,CACrB,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,wBAE3C,KAAC,WAAW,EAAC,EAAE,CAAC,oBAAoB,UACjC,yBAAyB,EACd,cACd,KAAC,aAAa,wBACZ,KAAC,iBAAiB,EAAC,EAAE,CAAC,0BAA0B,UAAC,sCAEjD,EAAoB,EACN,cAChB,MAAC,aAAa,yBACZ,KAAC,MAAM,EAAC,OAAO,CAAEA,WAAY,UAAC,UAAQ,EAAS,cAC/C,KAAC,MAAM,EAAC,OAAO,CAAE,yBAAMC,UAAS,EAAE,EAAC,CAAC,SAAS,eAAC,OAE9C,EAAS,GACK,IAClB,GAAS,GACM,CAErB"},"metadata":{},"sourceType":"module","externalDependencies":[]}