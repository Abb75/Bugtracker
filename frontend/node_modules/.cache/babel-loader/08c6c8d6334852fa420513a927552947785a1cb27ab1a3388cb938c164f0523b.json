{"ast":null,"code":"import React,{useEffect}from'react';import{Doughnut}from'react-chartjs-2';import{Chart,ArcElement,Legend}from'chart.js';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";Chart.register(ArcElement,Legend);var countProjectPriorities=function countProjectPriorities(projects){if((projects===null||projects===void 0?void 0:projects.length)!==0){var prioritiesCount={Critical:0,High:0,Normal:0,Low:0};projects===null||projects===void 0?void 0:projects.forEach(function(project){prioritiesCount[project.status]+=1;});return prioritiesCount;}};var ProjectChartPriority=function ProjectChartPriority(){var _projectData$project;var projectData=useSelector(function(state){return state.project;});var prioritiesCount=countProjectPriorities(projectData.project);var data={labels:['Critical','High','Normal','Low'],datasets:[{data:((_projectData$project=projectData.project)===null||_projectData$project===void 0?void 0:_projectData$project.length)!==0?[prioritiesCount.Critical,prioritiesCount.High,prioritiesCount.Normal,prioritiesCount.Low]:[],backgroundColor:['#FF6384','#36A2EB','#FFCE56','#4CAF50'],hoverBackgroundColor:['#FF6384','#36A2EB','#FFCE56','#4CAF50']}]};var options={responsive:true,// Le graphique s'adaptera à la taille du conteneur parent\nmaintainAspectRatio:false// Permet de désactiver le ratio d'aspect par défaut pour ajuster la taille du graphique\n// Hauteur du graphique en pixels ou en pourcentage\n};return/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',height:'30vh',width:'80vh'},children:/*#__PURE__*/_jsx(Doughnut,{data:data,options:options})});};export default ProjectChartPriority;","map":{"version":3,"names":["React","useEffect","Doughnut","Chart","ArcElement","Legend","useSelector","register","countProjectPriorities","projects","length","prioritiesCount","Critical","High","Normal","Low","forEach","project","status","ProjectChartPriority","projectData","state","data","labels","datasets","backgroundColor","hoverBackgroundColor","options","responsive","maintainAspectRatio","position","height","width"],"sources":["C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/src/pages/Dashboard/Charts/Project/ProjectChartPriority.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport {Chart, ArcElement, Legend} from 'chart.js'\r\nimport { useSelector } from 'react-redux';\r\nChart.register(ArcElement, Legend);\r\n\r\nconst countProjectPriorities = (projects) => {\r\n  if (projects?.length !== 0){\r\n     const prioritiesCount = {\r\n          Critical: 0,\r\n          High: 0,\r\n          Normal: 0,\r\n          Low: 0,\r\n        };\r\n\r\n        projects?.forEach((project) => {\r\n         \r\n          prioritiesCount[project.status] += 1;\r\n        }); \r\n        return prioritiesCount;\r\n        }\r\n \r\n};\r\n\r\nconst ProjectChartPriority = () => {\r\n  const projectData = useSelector(state => state.project)\r\n \r\n  const prioritiesCount = countProjectPriorities(projectData.project);\r\n  const data = {\r\n    labels: ['Critical', 'High', 'Normal', 'Low'],\r\n    datasets: [ \r\n    \r\n      {\r\n        data: projectData.project?.length !== 0 ? \r\n              [prioritiesCount.Critical,\r\n                  prioritiesCount.High,\r\n                  prioritiesCount.Normal,\r\n                  prioritiesCount.Low] : [],\r\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50'],\r\n        hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50'],\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true, // Le graphique s'adaptera à la taille du conteneur parent\r\n    maintainAspectRatio: false, // Permet de désactiver le ratio d'aspect par défaut pour ajuster la taille du graphique\r\n    // Hauteur du graphique en pixels ou en pourcentage\r\n  \r\n  }\r\n\r\n  \r\n  \r\n\r\n  return(\r\n    <div  style={{position: 'relative', height:'30vh',  width:'80vh'}}> \r\n    <Doughnut data={data} options={options}/> \r\n    </div>)\r\n    \r\n   \r\n  \r\n  \r\n}\r\nexport default ProjectChartPriority;"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAAQC,KAAK,CAAEC,UAAU,CAAEC,MAAM,KAAO,UAAU,CAClD,OAASC,WAAW,KAAQ,aAAa,CAAC,2CAC1CH,KAAK,CAACI,QAAQ,CAACH,UAAU,CAAEC,MAAM,CAAC,CAElC,GAAMG,uBAAsB,CAAG,QAAzBA,uBAAsB,CAAIC,QAAQ,CAAK,CAC3C,GAAI,CAAAA,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEC,MAAM,IAAK,CAAC,CAAC,CACxB,GAAMC,gBAAe,CAAG,CACnBC,QAAQ,CAAE,CAAC,CACXC,IAAI,CAAE,CAAC,CACPC,MAAM,CAAE,CAAC,CACTC,GAAG,CAAE,CACP,CAAC,CAEDN,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEO,OAAO,CAAC,SAACC,OAAO,CAAK,CAE7BN,eAAe,CAACM,OAAO,CAACC,MAAM,CAAC,EAAI,CAAC,CACtC,CAAC,CAAC,CACF,MAAOP,gBAAe,CACtB,CAER,CAAC,CAED,GAAMQ,qBAAoB,CAAG,QAAvBA,qBAAoB,EAAS,0BACjC,GAAMC,YAAW,CAAGd,WAAW,CAAC,SAAAe,KAAK,QAAIA,MAAK,CAACJ,OAAO,GAAC,CAEvD,GAAMN,gBAAe,CAAGH,sBAAsB,CAACY,WAAW,CAACH,OAAO,CAAC,CACnE,GAAMK,KAAI,CAAG,CACXC,MAAM,CAAE,CAAC,UAAU,CAAE,MAAM,CAAE,QAAQ,CAAE,KAAK,CAAC,CAC7CC,QAAQ,CAAE,CAER,CACEF,IAAI,CAAE,uBAAAF,WAAW,CAACH,OAAO,+CAAnB,qBAAqBP,MAAM,IAAK,CAAC,CACjC,CAACC,eAAe,CAACC,QAAQ,CACrBD,eAAe,CAACE,IAAI,CACpBF,eAAe,CAACG,MAAM,CACtBH,eAAe,CAACI,GAAG,CAAC,CAAG,EAAE,CACnCU,eAAe,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAC7DC,oBAAoB,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CACnE,CAAC,CAEL,CAAC,CAED,GAAMC,QAAO,CAAG,CACdC,UAAU,CAAE,IAAI,CAAE;AAClBC,mBAAmB,CAAE,KAAO;AAC5B;AAEF,CAAC,CAKD,mBACE,YAAM,KAAK,CAAE,CAACC,QAAQ,CAAE,UAAU,CAAEC,MAAM,CAAC,MAAM,CAAGC,KAAK,CAAC,MAAM,CAAE,uBAClE,KAAC,QAAQ,EAAC,IAAI,CAAEV,IAAK,CAAC,OAAO,CAAEK,OAAQ,EAAE,EACnC,CAKV,CAAC,CACD,cAAeR,qBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}