{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogContentText from'@mui/material/DialogContentText';import DialogTitle from'@mui/material/DialogTitle';import{IconButton}from'@mui/material';import DeleteIcon from'@mui/icons-material/Delete';import{GetUserProjectApi}from'../../redux/actions/projectActions';import{SendSuccessNotification}from'../Alert';import{DeleteGuestUserInvitationProjectApi}from'../../redux/actions/invitationActions';import{useDispatch}from'react-redux';import{GetTokenUser}from'../../redux/selectors/userSelectors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DeleteGuestUserDialog(_ref){var project=_ref.project,user=_ref.user;//const  tokenUser = localStorage.getItem('access_token')\nvar tokenUser=GetTokenUser();var dispatch=useDispatch();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var DeleteGuestUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return DeleteGuestUserInvitationProjectApi(project,user,tokenUser);case 3:dispatch(GetUserProjectApi(tokenUser));handleClose();SendSuccessNotification('User delete with success');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function DeleteGuestUser(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleClickOpen,title:\"Permanently Delete\",children:/*#__PURE__*/_jsx(DeleteIcon,{style:{color:'red',marginTop:'20px'}})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Delete guest user definitely ?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{id:\"alert-dialog-description\",children:\"This user will be definitely delete\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return DeleteGuestUser();},autoFocus:true,children:\"Agree\"})]})]})]});}","map":{"version":3,"names":["React","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","IconButton","DeleteIcon","GetUserProjectApi","SendSuccessNotification","DeleteGuestUserInvitationProjectApi","useDispatch","GetTokenUser","DeleteGuestUserDialog","project","user","tokenUser","dispatch","useState","open","setOpen","handleClickOpen","handleClose","DeleteGuestUser","console","error","color","marginTop"],"sources":["C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/src/components/dialog/DeleteGuestUser.js"],"sourcesContent":["import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { IconButton } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport {  GetUserProjectApi } from '../../redux/actions/projectActions';\r\nimport { SendSuccessNotification } from '../Alert';\r\nimport { DeleteGuestUserInvitationProjectApi } from '../../redux/actions/invitationActions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { GetTokenUser } from '../../redux/selectors/userSelectors';\r\n\r\nexport default function DeleteGuestUserDialog({project, user }) {\r\n  //const  tokenUser = localStorage.getItem('access_token')\r\n  const tokenUser = GetTokenUser()\r\n  const dispatch = useDispatch()\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const DeleteGuestUser = async() => {\r\n    \r\n    try{\r\n        await DeleteGuestUserInvitationProjectApi(project, user, tokenUser)  \r\n        dispatch(GetUserProjectApi(tokenUser))\r\n        \r\n       \r\n        handleClose()\r\n        SendSuccessNotification('User delete with success')\r\n    }\r\n    catch(error){\r\n        console.error(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n         <IconButton onClick={handleClickOpen} title=\"Permanently Delete\">\r\n                  <DeleteIcon style={{ color: 'red',  marginTop: '20px' }} />\r\n                </IconButton> \r\n    \r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Delete guest user definitely ?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            This user will be definitely delete\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Disagree</Button>\r\n          <Button onClick={() => DeleteGuestUser()} autoFocus>\r\n            Agree\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}"],"mappings":"0bAAA,MAAO,GAAKA,MAAK,KAAM,OAAO,CAC9B,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAOC,cAAa,KAAM,6BAA6B,CACvD,MAAOC,kBAAiB,KAAM,iCAAiC,CAC/D,MAAOC,YAAW,KAAM,2BAA2B,CACnD,OAASC,UAAU,KAAQ,eAAe,CAC1C,MAAOC,WAAU,KAAM,4BAA4B,CACnD,OAAUC,iBAAiB,KAAQ,oCAAoC,CACvE,OAASC,uBAAuB,KAAQ,UAAU,CAClD,OAASC,mCAAmC,KAAQ,uCAAuC,CAC3F,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,YAAY,KAAQ,qCAAqC,CAAC,wFAEnE,cAAe,SAASC,sBAAqB,MAAmB,IAAjBC,QAAO,MAAPA,OAAO,CAAEC,IAAI,MAAJA,IAAI,CAC1D;AACA,GAAMC,UAAS,CAAGJ,YAAY,EAAE,CAChC,GAAMK,SAAQ,CAAGN,WAAW,EAAE,CAC9B,oBAAwBZ,KAAK,CAACmB,QAAQ,CAAC,KAAK,CAAC,oDAAtCC,IAAI,qBAAEC,OAAO,qBAEpB,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5BD,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,GAAME,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBF,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,CAED,GAAMG,gBAAe,6FAAG,0KAGZb,oCAAmC,CAACI,OAAO,CAAEC,IAAI,CAAEC,SAAS,CAAC,QACnEC,QAAQ,CAACT,iBAAiB,CAACQ,SAAS,CAAC,CAAC,CAGtCM,WAAW,EAAE,CACbb,uBAAuB,CAAC,0BAA0B,CAAC,gFAGnDe,OAAO,CAACC,KAAK,aAAO,oEAEzB,kBAbKF,gBAAe,2CAapB,CAED,mBACE,MAAC,KAAK,CAAC,QAAQ,yBACV,KAAC,UAAU,EAAC,OAAO,CAAEF,eAAgB,CAAC,KAAK,CAAC,oBAAoB,uBACvD,KAAC,UAAU,EAAC,KAAK,CAAE,CAAEK,KAAK,CAAE,KAAK,CAAGC,SAAS,CAAE,MAAO,CAAE,EAAG,EAChD,cAEvB,MAAC,MAAM,EACL,IAAI,CAAER,IAAK,CACX,OAAO,CAAEG,WAAY,CACrB,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,wBAE3C,KAAC,WAAW,EAAC,EAAE,CAAC,oBAAoB,UACjC,gCAAgC,EACrB,cACd,KAAC,aAAa,wBACZ,KAAC,iBAAiB,EAAC,EAAE,CAAC,0BAA0B,UAAC,qCAEjD,EAAoB,EACN,cAChB,MAAC,aAAa,yBACZ,KAAC,MAAM,EAAC,OAAO,CAAEA,WAAY,UAAC,UAAQ,EAAS,cAC/C,KAAC,MAAM,EAAC,OAAO,CAAE,yBAAMC,gBAAe,EAAE,EAAC,CAAC,SAAS,eAAC,OAEpD,EAAS,GACK,GACT,GACM,CAErB"},"metadata":{},"sourceType":"module","externalDependencies":[]}