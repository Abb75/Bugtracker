{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,Fragment}from'react';import Box from'@mui/material/Box';import Collapse from'@mui/material/Collapse';import IconButton from'@mui/material/IconButton';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Typography from'@mui/material/Typography';import Paper from'@mui/material/Paper';import KeyboardArrowDownIcon from'@mui/icons-material/KeyboardArrowDown';import KeyboardArrowUpIcon from'@mui/icons-material/KeyboardArrowUp';import{Button,Container,Menu,MenuItem}from'@mui/material';import ArrowDropDownIcon from'@mui/icons-material/ArrowDropDown';import{useDispatch}from'react-redux';import{GetBugProjectApi,UpdateUserBugApi,UpdateBugApi,DeleteBugApi,ArchivedBugApi,UpdateBugArchivedApi}from'../../../redux/actions/bugActions';import{BugProject}from'../../../redux/selectors/bugSelectors';import{ProjectDetails,ProjectDetailsData,SelectedProject}from'../../../redux/selectors/projectSelectors';import{useParams,Link}from'react-router-dom';import SearchIcon from'@mui/icons-material/Search';import{useSelector}from'react-redux';import{GetCurrentUser,GetTokenUser}from'../../../redux/selectors/userSelectors';import Delete from'@mui/icons-material/Delete';import ArchiveIcon from'@mui/icons-material/Archive';import DeleteBugDialog from'../../../components/dialog/DeleteBug';import'./BugListProject.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Bugs=function Bugs(){var currentUser=GetCurrentUser();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openMenuIndexBugId=_useState2[0],setOpenMenuIndexBugId=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),statusItem=_useState4[0],setStatusItem=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),priorityMenuIndexId=_useState6[0],setPriorityMenuIndexId=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),priority=_useState8[0],setPriority=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),priorityItem=_useState10[0],setPriorityItem=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),assigneeMenuAnchorEl=_useState12[0],setAssigneeMenuAnchorEl=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),assigneeMenuIndexId=_useState14[0],setAssigneeMenuIndexId=_useState14[1];var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();//const tokenUser = localStorage.getItem('access_token');\nvar tokenUser=GetTokenUser();var bugProject=BugProject();var _ref=bugProject||{},error=_ref.error,loading=_ref.loading;var _useState15=useState(bugProject),_useState16=_slicedToArray(_useState15,2),bugStates=_useState16[0],setBugStates=_useState16[1];var projectData=ProjectDetailsData();var userRole=projectData.invitation.filter(function(user){return user.email===currentUser.email&&user.role==='admin';});var IsGuestAdmin=userRole[0]?userRole[0].role:null;var IsAdminUser=GetCurrentUser();var handlePriorityClose=function handlePriorityClose(){setPriorityMenuIndexId(false);setPriority();};var handleStatusClick=function handleStatusClick(event,index){console.log(event.target);setOpenMenuIndexBugId(index);setStatusItem(event.currentTarget);};var handleStatusClose=function handleStatusClose(bugId){console.log(bugId);setOpenMenuIndexBugId(false);setStatusItem();};var handleAssigneeClick=function handleAssigneeClick(e,index){console.log(e.target.getAttribute('value'));setAssigneeMenuIndexId(index);setAssigneeMenuAnchorEl(e.currentTarget);};var handleAssigneeClose=function handleAssigneeClose(e,index){setAssigneeMenuIndexId(index);setAssigneeMenuAnchorEl(null);};var handleAssignee=function handleAssignee(e,userId,bugId){var value=e.target.getAttribute('value');try{dispatch(UpdateUserBugApi(id,bugId,tokenUser,userId));setBugStates(function(bugStates){return bugStates.map(function(bug){if(bug.id===bugId){return _objectSpread(_objectSpread({},bug),{},{assigned_to_name:value});}handleAssigneeClose();return bug;});});}catch(error){console.log(error);}};var handleUpdateBug=function handleUpdateBug(property,e,bugId){var value=e.target.getAttribute('value');dispatch(UpdateBugApi(id,bugId,tokenUser,value,property));setBugStates(function(bugStates){return bugStates.map(function(bug){if(bug.id===bugId){return _objectSpread(_objectSpread({},bug),{},_defineProperty({},property,value));}handleStatusClose();handlePriorityClose();return bug;});});};var handlePriorityClick=function handlePriorityClick(e,index){setPriorityMenuIndexId(index);setPriorityItem(e.currentTarget);};useEffect(function(){try{dispatch(GetBugProjectApi(id,tokenUser));}catch(error){console.log(error);}},[dispatch,id,tokenUser]);useEffect(function(){setBugStates(bugProject);},[bugProject,projectData.invitation]);var handleArchivedBug=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(bugId,shouldArchive){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return UpdateBugArchivedApi(id,bugId,tokenUser,shouldArchive,currentUser.id);case 3:_context.next=7;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);case 7:setBugStates(function(bugStates){return bugStates.map(function(bug){if(bug.id===bugId){return _objectSpread(_objectSpread({},bug),{},{is_archived:shouldArchive});}return bug;});});case 8:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function handleArchivedBug(_x,_x2){return _ref2.apply(this,arguments);};}();var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),openRows=_useState18[0],setOpenRows=_useState18[1];var handleRowToggle=function handleRowToggle(rowId){setOpenRows(function(prevOpenRows){if(prevOpenRows.includes(rowId)){return prevOpenRows.filter(function(id){return id!==rowId;});}else{return[].concat(_toConsumableArray(prevOpenRows),[rowId]);}});};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(TableContainer,{className:\"BugsContainer\",style:{width:'104%',marginRight:'10px',marginTop:'20px',marginLeft:'-20px'},children:/*#__PURE__*/_jsx(Paper,{elevation:2,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"collapsible table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Bug\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Created\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Assignee\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Priority\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:bugStates===null||bugStates===void 0?void 0:bugStates.map(function(row,index){var _projectData$invitati;return row.is_archived===false?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[currentUser.groups[0]==='admin'||IsGuestAdmin==='admin'||(currentUser===null||currentUser===void 0?void 0:currentUser.email)===row.created_by||(currentUser===null||currentUser===void 0?void 0:currentUser.email)===row.assigned_to_email?/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"expand row\",size:\"small\",onClick:function onClick(){return handleRowToggle(index);},children:openRows.includes(index)?/*#__PURE__*/_jsx(KeyboardArrowUpIcon,{}):/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})})}):/*#__PURE__*/_jsx(TableCell,{children:\" \"}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.title}),/*#__PURE__*/_jsx(TableCell,{children:row.date}),/*#__PURE__*/_jsxs(TableCell,{children:[row.assigned_to_name,currentUser.id===row.assigned_to_id||currentUser.groups[0]==='admin'||IsGuestAdmin==='admin'?/*#__PURE__*/_jsx(IconButton,{size:\"small\",\"aria-label\":\"assignee\",\"aria-controls\":row.id,\"aria-haspopup\":\"true\",onClick:function onClick(event){return handleAssigneeClick(event,row.id);},\"aria-expanded\":assigneeMenuIndexId===row.id?'true':undefined,value:row.id,children:/*#__PURE__*/_jsx(ArrowDropDownIcon,{})}):null,/*#__PURE__*/_jsx(Menu,{id:row.id,anchorEl:assigneeMenuAnchorEl,open:assigneeMenuIndexId===row.id,onClose:handleAssigneeClose,children:(_projectData$invitati=projectData.invitation)===null||_projectData$invitati===void 0?void 0:_projectData$invitati.map(function(user){return/*#__PURE__*/_jsx(MenuItem,{value:user.name,onClick:function onClick(event){return handleAssignee(event,user.user_id,row.id);},children:user.name},user.id);})})]}),/*#__PURE__*/_jsxs(TableCell,{children:[row.status,currentUser.id===row.assigned_to_id||currentUser.groups[0]==='admin'||IsGuestAdmin==='admin'?/*#__PURE__*/_jsx(IconButton,{color:\"red\",size:\"small\",\"aria-label\":\"status\",\"aria-controls\":row.id,\"aria-haspopup\":\"true\",onClick:function onClick(event){return handleStatusClick(event,row.id);},\"aria-expanded\":openMenuIndexBugId===row.id?'true':undefined,value:row.id,children:/*#__PURE__*/_jsx(ArrowDropDownIcon,{})}):null,/*#__PURE__*/_jsxs(Menu,{id:row.id,anchorEl:statusItem,open:openMenuIndexBugId===row.id,onClose:handleStatusClose,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"New\",onClick:function onClick(event){return handleUpdateBug('status',event,row.id);},children:\"New\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Rejected\",id:row.id,onClick:function onClick(event){return handleUpdateBug('status',event,row.id);},children:\"Rejected\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Fixed\",onClick:function onClick(event){return handleUpdateBug('status',event,row.id);},children:\"Fixed\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"In progress\",onClick:function onClick(event){return handleUpdateBug('status',event,row.id);},children:\"In progress\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"To be tested\",id:row.id,onClick:function onClick(event){return handleUpdateBug('status',event,row.id);},children:\"To be tested\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Closed\",onClick:function onClick(event){return handleUpdateBug('status',event,row.id);},children:\"Closed\"})]})]}),/*#__PURE__*/_jsxs(TableCell,{children:[row.priority,currentUser.id===row.assigned_to_id||currentUser.groups[0]==='admin'||IsGuestAdmin==='admin'?/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"priority\",\"aria-controls\":row.id,\"aria-haspopup\":\"true\",onClick:function onClick(event){return handlePriorityClick(event,row.id);},\"aria-expanded\":priorityMenuIndexId===row.id?'true':undefined,value:row.id,children:/*#__PURE__*/_jsx(ArrowDropDownIcon,{})}):null,/*#__PURE__*/_jsxs(Menu,{id:row.id,anchorEl:priorityItem,open:priorityMenuIndexId===row.id,onClose:handlePriorityClose,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Critical\",onClick:function onClick(event){return handleUpdateBug('priority',event,row.id);},children:\"Critical\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"High\",onClick:function onClick(event){return handleUpdateBug('priority',event,row.id);},children:\"High\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Normal\",onClick:function onClick(event){return handleUpdateBug('priority',event,row.id);},children:\"Normal\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Low\",onClick:function onClick(event){return handleUpdateBug('priority',event,row.id);},children:\"Low\"})]})]})]}),/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:/*#__PURE__*/_jsx(Collapse,{in:openRows.includes(index),timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsx(Box,{sx:{margin:1},children:/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",gutterBottom:true,component:\"div\",children:[IsGuestAdmin==='admin'||currentUser.groups[0]==='admin'||(currentUser===null||currentUser===void 0?void 0:currentUser.email)===row.created_by||(currentUser===null||currentUser===void 0?void 0:currentUser.email)===row.assigned_to_email?/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:function onClick(){return handleArchivedBug(row.id,true);},startIcon:/*#__PURE__*/_jsx(ArchiveIcon,{}),style:{borderRadius:20,boxShadow:'0px 4px 10px rgba(0, 0, 0, 0.1)',//backgroundColor: 'transparent',\ncolor:'white',textTransform:'none',padding:'10px 20px',fontSize:'16px'},children:\"Archived\"}):null,/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(SearchIcon,{}),style:{borderRadius:20,boxShadow:'0px 4px 10px rgba(0, 0, 0, 0.1)',backgroundColor:'transparent',color:'black',textTransform:'none',padding:'10px 20px',fontSize:'16px'},children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/project/\".concat(projectData.id,\"/bug/\").concat(row.id),style:{textDecoration:'none',color:'black'},children:\"Details\"})]}),currentUser.groups[0]==='admin'?/*#__PURE__*/_jsx(DeleteBugDialog,{bug:row.id,project:id}):null]})})})})})]},row.title):null;})})]})})})});};","map":{"version":3,"names":["useState","useEffect","Fragment","Box","Collapse","IconButton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","Paper","KeyboardArrowDownIcon","KeyboardArrowUpIcon","Button","Container","Menu","MenuItem","ArrowDropDownIcon","useDispatch","GetBugProjectApi","UpdateUserBugApi","UpdateBugApi","DeleteBugApi","ArchivedBugApi","UpdateBugArchivedApi","BugProject","ProjectDetails","ProjectDetailsData","SelectedProject","useParams","Link","SearchIcon","useSelector","GetCurrentUser","GetTokenUser","Delete","ArchiveIcon","DeleteBugDialog","Bugs","currentUser","openMenuIndexBugId","setOpenMenuIndexBugId","statusItem","setStatusItem","priorityMenuIndexId","setPriorityMenuIndexId","priority","setPriority","priorityItem","setPriorityItem","assigneeMenuAnchorEl","setAssigneeMenuAnchorEl","assigneeMenuIndexId","setAssigneeMenuIndexId","id","dispatch","tokenUser","bugProject","error","loading","bugStates","setBugStates","projectData","userRole","invitation","filter","user","email","role","IsGuestAdmin","IsAdminUser","handlePriorityClose","handleStatusClick","event","index","console","log","target","currentTarget","handleStatusClose","bugId","handleAssigneeClick","e","getAttribute","handleAssigneeClose","handleAssignee","userId","value","map","bug","assigned_to_name","handleUpdateBug","property","handlePriorityClick","handleArchivedBug","shouldArchive","is_archived","openRows","setOpenRows","handleRowToggle","rowId","prevOpenRows","includes","width","marginRight","marginTop","marginLeft","row","groups","created_by","assigned_to_email","title","date","assigned_to_id","undefined","name","user_id","status","paddingBottom","paddingTop","margin","borderRadius","boxShadow","color","textTransform","padding","fontSize","backgroundColor","textDecoration"],"sources":["C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/src/pages/ProjectDetails/Details/BugListProject.js"],"sourcesContent":["import { useState, useEffect, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Box from '@mui/material/Box';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport { Button, Container, Menu, MenuItem } from '@mui/material';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport { useDispatch } from 'react-redux';\r\nimport { GetBugProjectApi, UpdateUserBugApi, UpdateBugApi, DeleteBugApi, ArchivedBugApi, UpdateBugArchivedApi } from '../../../redux/actions/bugActions';\r\nimport { BugProject } from '../../../redux/selectors/bugSelectors';\r\nimport { ProjectDetails, ProjectDetailsData, SelectedProject } from '../../../redux/selectors/projectSelectors';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { useSelector } from 'react-redux';\r\nimport { GetCurrentUser, GetTokenUser } from '../../../redux/selectors/userSelectors';\r\nimport Delete from '@mui/icons-material/Delete';\r\nimport ArchiveIcon from '@mui/icons-material/Archive';\r\nimport DeleteBugDialog from '../../../components/dialog/DeleteBug';\r\nimport './BugListProject.css'\r\n\r\n\r\n\r\n\r\nexport const Bugs = () => {\r\n    \r\n  const currentUser = GetCurrentUser()\r\n  const [openMenuIndexBugId, setOpenMenuIndexBugId] = useState(false);\r\n  const [statusItem, setStatusItem] = useState();\r\n  const [priorityMenuIndexId, setPriorityMenuIndexId] = useState(false);\r\n  const [priority, setPriority] = useState(null)\r\n  const [priorityItem, setPriorityItem] = useState();\r\n  const [assigneeMenuAnchorEl, setAssigneeMenuAnchorEl] = useState(null);\r\n  const [assigneeMenuIndexId, setAssigneeMenuIndexId] = useState(false);\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  //const tokenUser = localStorage.getItem('access_token');\r\n  const tokenUser = GetTokenUser()  \r\n\r\n  const bugProject = BugProject();\r\n  const { error, loading } = bugProject || {};\r\n  const [bugStates, setBugStates] = useState(bugProject);\r\n  const projectData = ProjectDetailsData();\r\n  const userRole = projectData.invitation.filter(user => user.email === currentUser.email &&\r\n                                                 user.role === 'admin');\r\n  const IsGuestAdmin = userRole[0] ? userRole[0].role : null;\r\n  const IsAdminUser = GetCurrentUser()\r\n\r\n\r\n\r\n  const handlePriorityClose = () => {\r\n    setPriorityMenuIndexId(false)\r\n    \r\n    setPriority()\r\n   \r\n   };\r\n\r\n\r\n  const handleStatusClick = (event, index) => {\r\n    console.log(event.target)\r\n    setOpenMenuIndexBugId(index);\r\n    setStatusItem(event.currentTarget);\r\n  }; \r\n  \r\n  const handleStatusClose = (bugId) => {\r\n    console.log(bugId)\r\n    setOpenMenuIndexBugId(false);\r\n    setStatusItem();\r\n  };\r\n\r\n  const handleAssigneeClick = (e, index) => {\r\n    console.log( e.target.getAttribute('value'))\r\n      setAssigneeMenuIndexId(index); \r\n      setAssigneeMenuAnchorEl(e.currentTarget);\r\n\r\n      \r\n    }; \r\n    const handleAssigneeClose = (e, index) => {\r\n        setAssigneeMenuIndexId(index); \r\n        setAssigneeMenuAnchorEl(null);\r\n\r\n        \r\n      }; \r\n\r\n\r\n      const handleAssignee = (e, userId, bugId) => {\r\n        const value = e.target.getAttribute('value');\r\n      \r\n        try{    \r\n              dispatch(UpdateUserBugApi(id, bugId , tokenUser, userId))\r\n              setBugStates((bugStates) =>\r\n            \r\n                bugStates.map((bug) => {\r\n                  if (bug.id === bugId ) {\r\n                   \r\n                    return { ...bug, assigned_to_name: value }; \r\n                   \r\n                  }\r\n                  handleAssigneeClose()\r\n               \r\n                  return bug\r\n                }))\r\n            \r\n              }catch(error){\r\n    \r\n                console.log(error)\r\n              }\r\n             \r\n      };\r\n\r\n      const handleUpdateBug =  (property,e, bugId) => {\r\n          \r\n        const value = e.target.getAttribute('value');\r\n              dispatch(UpdateBugApi(id,bugId,tokenUser, value , property ))\r\n              setBugStates((bugStates) =>\r\n              \r\n                  bugStates.map((bug) => {\r\n                    if (bug.id === bugId) {\r\n                      return { ...bug, [property]: value }; \r\n                    }\r\n                    handleStatusClose()\r\n                    handlePriorityClose()\r\n                    return bug;\r\n                  })\r\n              )}\r\n\r\n              const handlePriorityClick = (e, index) => {\r\n                setPriorityMenuIndexId(index)\r\n                setPriorityItem(e.currentTarget)\r\n                \r\n               };\r\n             \r\n\r\n\r\n  useEffect(() => {\r\n    try {\r\n      dispatch(GetBugProjectApi(id, tokenUser));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [dispatch, id, tokenUser]);\r\n\r\n\r\n  \r\n  useEffect(() => {\r\n    setBugStates(bugProject);\r\n  }, [bugProject, projectData.invitation]);\r\n\r\n\r\n  const handleArchivedBug = async(bugId, shouldArchive) => {\r\n          \r\n          try{\r\n            await UpdateBugArchivedApi(id, bugId, tokenUser, shouldArchive, currentUser.id)\r\n          }catch(error){\r\n        \r\n        }\r\n          setBugStates((bugStates) =>\r\n              bugStates.map((bug) => {\r\n                if (bug.id === bugId) {\r\n                  return { ...bug, is_archived: shouldArchive }; \r\n                }\r\n               \r\n                return bug;\r\n              })\r\n          )}\r\n\r\n\r\n  const [openRows, setOpenRows] = useState([]);\r\n\r\n  const handleRowToggle = rowId => {\r\n    setOpenRows(prevOpenRows => {\r\n      if (prevOpenRows.includes(rowId)) {\r\n        return prevOpenRows.filter(id => id !== rowId);\r\n      } else {\r\n        return [...prevOpenRows, rowId];\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n \r\n    return (\r\n\r\n    \r\n\r\n\r\n    <Container    >\r\n      <TableContainer  className=\"BugsContainer\" style={{ width: '104%', marginRight: '10px',marginTop:'20px', marginLeft: '-20px' }}>\r\n        <Paper  elevation={2} >\r\n        <Table aria-label=\"collapsible table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell />\r\n              <TableCell align=\"left\">Bug</TableCell>\r\n              <TableCell>Created</TableCell>\r\n              <TableCell>Assignee</TableCell>\r\n              <TableCell>Status</TableCell>\r\n              <TableCell>Priority</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {bugStates?.map((row, index) => (\r\n              row.is_archived === false ? (\r\n              <Fragment key={row.title}>\r\n                <TableRow>\r\n                { currentUser.groups[0] === 'admin' ||\r\n                  IsGuestAdmin === 'admin' ||\r\n                  currentUser?.email === row.created_by || \r\n                  currentUser?.email === row.assigned_to_email ? \r\n                       (\r\n                  <TableCell>\r\n                    <IconButton\r\n                      aria-label=\"expand row\"\r\n                      size=\"small\"\r\n                      onClick={() => handleRowToggle(index)}\r\n                    >\r\n                      {openRows.includes(index) ? (\r\n                        <KeyboardArrowUpIcon />\r\n                      ) : (\r\n                        <KeyboardArrowDownIcon />\r\n                      )}\r\n                    </IconButton>\r\n                  </TableCell> ) : ( <TableCell> </TableCell>)}\r\n                  <TableCell component=\"th\" scope=\"row\">\r\n                    {row.title}\r\n                  </TableCell>\r\n                  <TableCell>{row.date}</TableCell>\r\n                  <TableCell>\r\n                  {row.assigned_to_name}\r\n                    {currentUser.id === row.assigned_to_id ||\r\n                    currentUser.groups[0] === 'admin'||\r\n                    IsGuestAdmin === 'admin' ?\r\n                       (\r\n                    <IconButton\r\n                        size='small'\r\n                        aria-label=\"assignee\"\r\n                        aria-controls={row.id}\r\n                        aria-haspopup=\"true\"\r\n                        onClick={(event) => handleAssigneeClick(event, row.id)}\r\n                        aria-expanded={assigneeMenuIndexId === row.id ? 'true' : undefined}\r\n                        value={row.id}\r\n                        >\r\n                        <ArrowDropDownIcon />\r\n                    </IconButton> ) : (null)}\r\n                      <Menu\r\n                              id={row.id}\r\n                              anchorEl={assigneeMenuAnchorEl}\r\n                              open={assigneeMenuIndexId === row.id}\r\n                              onClose={ handleAssigneeClose}\r\n                          \r\n                          >\r\n                          \r\n                          {projectData.invitation?.map((user) => (\r\n                              <MenuItem key={user.id} value={user.name} onClick={(event) => handleAssignee(event, user.user_id, row.id)}>\r\n                                  {user.name}\r\n                              </MenuItem>\r\n                              ))}\r\n                        </Menu> \r\n                   \r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {row.status}\r\n                    { currentUser.id === row.assigned_to_id ||\r\n                      currentUser.groups[0] === 'admin' ||\r\n                      IsGuestAdmin === 'admin' ?\r\n                       (\r\n                    <IconButton \r\n\r\n                            color='red'\r\n                            size='small'\r\n                            aria-label=\"status\"\r\n                            aria-controls={row.id}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={(event) => handleStatusClick(event, row.id)}\r\n                            aria-expanded={openMenuIndexBugId === row.id ? 'true' : undefined}\r\n                            value={row.id}\r\n                            >\r\n                            <ArrowDropDownIcon />\r\n                            </IconButton> ):(null)}\r\n                            <Menu\r\n                            id={row.id}\r\n                            anchorEl={statusItem}\r\n                            open={openMenuIndexBugId === row.id}\r\n                            onClose={ handleStatusClose}\r\n\r\n                            >\r\n                            <MenuItem value=\"New\" onClick={(event) => handleUpdateBug('status',event, row.id)}>New</MenuItem>\r\n                            <MenuItem value=\"Rejected\"  id={row.id} onClick={(event) => handleUpdateBug('status',event, row.id)}>Rejected</MenuItem>\r\n                            <MenuItem value=\"Fixed\"  onClick={(event) => handleUpdateBug('status',event, row.id)}>Fixed</MenuItem>\r\n                            <MenuItem value=\"In progress\" onClick={(event) => handleUpdateBug('status',event, row.id)}>In progress</MenuItem>\r\n                            <MenuItem value=\"To be tested\"  id={row.id} onClick={(event) => handleUpdateBug('status',event, row.id)}>To be tested</MenuItem>\r\n                            <MenuItem value=\"Closed\"  onClick={(event) => handleUpdateBug('status',event, row.id)}>Closed</MenuItem>\r\n                            </Menu>\r\n                                                \r\n                    </TableCell>\r\n                  <TableCell>\r\n                    \r\n                    {row.priority}\r\n                    { currentUser.id === row.assigned_to_id ||\r\n                      currentUser.groups[0] === 'admin' ||\r\n                      IsGuestAdmin === 'admin' ?\r\n                       (\r\n              <IconButton\r\n                    aria-label=\"priority\"\r\n                    aria-controls={row.id}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={(event) => handlePriorityClick(event, row.id)}\r\n                    aria-expanded={priorityMenuIndexId === row.id ? 'true' : undefined}\r\n                    value={row.id}\r\n                  >\r\n                    <ArrowDropDownIcon />\r\n                  </IconButton>  ):(null )}\r\n                  <Menu\r\n                    id={row.id}\r\n                    anchorEl={priorityItem}\r\n                    open={priorityMenuIndexId === row.id}\r\n                    onClose={ handlePriorityClose}\r\n                    \r\n                  >\r\n                      <MenuItem  value='Critical' onClick={(event) => handleUpdateBug('priority',event,  row.id)}>Critical</MenuItem>\r\n                      <MenuItem  value='High' onClick={(event) => handleUpdateBug('priority',event,  row.id)}>High</MenuItem>\r\n                      <MenuItem  value='Normal' onClick={(event) => handleUpdateBug('priority',event,  row.id)}>Normal</MenuItem>\r\n                      <MenuItem  value='Low' onClick={(event) => handleUpdateBug('priority',event,  row.id)}>Low</MenuItem>\r\n                  </Menu>  \r\n                    \r\n                    \r\n                    \r\n                    </TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                    <Collapse in={openRows.includes(index)} timeout=\"auto\" unmountOnExit>\r\n                      <Box sx={{ margin: 1 }}>\r\n                        <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                        {\r\n                          IsGuestAdmin === 'admin' ||\r\n                          currentUser.groups[0] === 'admin' ||\r\n                          currentUser?.email === row.created_by || \r\n                          currentUser?.email === row.assigned_to_email  ? (\r\n                        <Button\r\n                                variant=\"contained\"\r\n                                onClick={() => handleArchivedBug(row.id, true)}\r\n                                startIcon={<ArchiveIcon />}\r\n                                style={{\r\n                                borderRadius: 20,\r\n                                boxShadow: '0px 4px 10px rgba(0, 0, 0, 0.1)',\r\n                                //backgroundColor: 'transparent',\r\n                                color: 'white',\r\n                                textTransform: 'none',\r\n                                padding: '10px 20px',\r\n                                fontSize: '16px',\r\n                                }}\r\n                            > \r\n                                 Archived\r\n                             \r\n                            </Button>) : (null) }\r\n                          <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                startIcon={<SearchIcon />}\r\n                                style={{\r\n                                borderRadius: 20,\r\n                                boxShadow: '0px 4px 10px rgba(0, 0, 0, 0.1)',\r\n                                backgroundColor: 'transparent',\r\n                                color: 'black',\r\n                               textTransform: 'none',\r\n                                padding: '10px 20px',\r\n                                fontSize: '16px',\r\n                                }}\r\n                            > <Link to={`/project/${projectData.id}/bug/${row.id}`} \r\n                                    style={{textDecoration: 'none', color: 'black'}}>\r\n                                 Details</Link>\r\n                             \r\n                            </Button>\r\n                            {currentUser.groups[0] === 'admin' ? (\r\n                              <DeleteBugDialog bug={row.id} project={id}/>\r\n                            ):(null)}\r\n                            \r\n                        </Typography>\r\n                        {/* Contenu pour la section History */}\r\n                      </Box>\r\n                    </Collapse>\r\n                  </TableCell>\r\n                </TableRow>\r\n              </Fragment>\r\n            ): ( null)))}\r\n          </TableBody>\r\n        </Table>\r\n        </Paper>\r\n      </TableContainer>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}