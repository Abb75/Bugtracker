{"ast":null,"code":"import React from'react';import{Doughnut}from'react-chartjs-2';import{Chart,ArcElement,Legend}from'chart.js';import{Allbug}from'../../../../redux/selectors/bugSelectors';import{jsx as _jsx}from\"react/jsx-runtime\";Chart.register(ArcElement,Legend);var BugChartPriority=function BugChartPriority(){var countPriority=function countPriority(bugs){if((bugs===null||bugs===void 0?void 0:bugs.length)!==0){var _priorityCount={Critical:0,High:0,Normal:0,Low:0};bugs===null||bugs===void 0?void 0:bugs.forEach(function(bug){if(!bug.is_archived){_priorityCount[bug.priority]+=1;}});console.log(_priorityCount);return _priorityCount;}};var bugs=Allbug();console.log(bugs);var priorityCount=countPriority(bugs);var data={labels:['Critical','High','Normal','Low'],datasets:[{data:(bugs===null||bugs===void 0?void 0:bugs.length)!==0?[priorityCount.Critical,priorityCount.High,priorityCount.Normal,priorityCount.Low]:[],backgroundColor:['#FF6384','#36A2EB','#FFCE56','#4CAF50'],hoverBackgroundColor:['#FF6384','#36A2EB','#FFCE56','#4CAF50']}]};var options={responsive:true,// Le graphique s'adaptera à la taille du conteneur parent\nmaintainAspectRatio:false// Permet de désactiver le ratio d'aspect par défaut pour ajuster la taille du graphique\n// Hauteur du graphique en pixels ou en pourcentage\n};return/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',height:'30vh',width:'80vh'},children:/*#__PURE__*/_jsx(Doughnut,{data:data,options:options})});};export default BugChartPriority;","map":{"version":3,"names":["React","Doughnut","Chart","ArcElement","Legend","Allbug","register","BugChartPriority","countPriority","bugs","length","priorityCount","Critical","High","Normal","Low","forEach","bug","is_archived","priority","console","log","data","labels","datasets","backgroundColor","hoverBackgroundColor","options","responsive","maintainAspectRatio","position","height","width"],"sources":["C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/src/pages/Dashboard/Charts/Bug/BugChartPriority.js"],"sourcesContent":["import React from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport {Chart, ArcElement, Legend} from 'chart.js'\r\nimport { Allbug } from '../../../../redux/selectors/bugSelectors';\r\nChart.register(ArcElement, Legend);\r\n\r\nconst BugChartPriority= () => {\r\n\r\n  const countPriority = (bugs) => {\r\n    if (bugs?.length !== 0){\r\n       const priorityCount = {\r\n            Critical: 0,\r\n            High :0,\r\n            \r\n            Normal : 0,\r\n            Low: 0,\r\n           \r\n          };\r\n  \r\n          bugs?.forEach((bug) => {\r\n            if(!bug.is_archived ){\r\n               priorityCount[bug.priority] += 1;\r\n            }\r\n           \r\n          }); \r\n          console.log(priorityCount)\r\n          return priorityCount;\r\n          }\r\n   \r\n  };\r\n  \r\n\r\n  const bugs = Allbug()\r\n  console.log(bugs)\r\n  const priorityCount = countPriority(bugs);\r\n  const data = {\r\n      labels: ['Critical', 'High', 'Normal', 'Low'],\r\n    datasets: [ \r\n    \r\n      {\r\n        data: bugs?.length !== 0 ?   \r\n              [priorityCount.Critical,\r\n               \r\n                priorityCount.High,\r\n                  priorityCount.Normal,\r\n                  priorityCount.Low,\r\n                \r\n                  ] : [],\r\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50'],\r\n        hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4CAF50']\r\n      },\r\n    ],\r\n  };\r\n\r\n \r\n\r\n  const options = {\r\n    responsive: true, // Le graphique s'adaptera à la taille du conteneur parent\r\n    maintainAspectRatio: false, // Permet de désactiver le ratio d'aspect par défaut pour ajuster la taille du graphique\r\n    // Hauteur du graphique en pixels ou en pourcentage\r\n  \r\n  }\r\n  \r\n\r\n  return(\r\n    <div  style={{position: 'relative', height:'30vh',  width:'80vh'}}> \r\n    <Doughnut data={data} options={options}/> \r\n    </div>)\r\n    \r\n   \r\n  \r\n  \r\n}\r\nexport default BugChartPriority;"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAAQC,KAAK,CAAEC,UAAU,CAAEC,MAAM,KAAO,UAAU,CAClD,OAASC,MAAM,KAAQ,0CAA0C,CAAC,2CAClEH,KAAK,CAACI,QAAQ,CAACH,UAAU,CAAEC,MAAM,CAAC,CAElC,GAAMG,iBAAgB,CAAE,QAAlBA,iBAAgB,EAAQ,CAE5B,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,IAAI,CAAK,CAC9B,GAAI,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,MAAM,IAAK,CAAC,CAAC,CACpB,GAAMC,eAAa,CAAG,CACjBC,QAAQ,CAAE,CAAC,CACXC,IAAI,CAAE,CAAC,CAEPC,MAAM,CAAG,CAAC,CACVC,GAAG,CAAE,CAEP,CAAC,CAEDN,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,OAAO,CAAC,SAACC,GAAG,CAAK,CACrB,GAAG,CAACA,GAAG,CAACC,WAAW,CAAE,CAClBP,cAAa,CAACM,GAAG,CAACE,QAAQ,CAAC,EAAI,CAAC,CACnC,CAEF,CAAC,CAAC,CACFC,OAAO,CAACC,GAAG,CAACV,cAAa,CAAC,CAC1B,MAAOA,eAAa,CACpB,CAER,CAAC,CAGD,GAAMF,KAAI,CAAGJ,MAAM,EAAE,CACrBe,OAAO,CAACC,GAAG,CAACZ,IAAI,CAAC,CACjB,GAAME,cAAa,CAAGH,aAAa,CAACC,IAAI,CAAC,CACzC,GAAMa,KAAI,CAAG,CACTC,MAAM,CAAE,CAAC,UAAU,CAAE,MAAM,CAAE,QAAQ,CAAE,KAAK,CAAC,CAC/CC,QAAQ,CAAE,CAER,CACEF,IAAI,CAAE,CAAAb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,MAAM,IAAK,CAAC,CAClB,CAACC,aAAa,CAACC,QAAQ,CAErBD,aAAa,CAACE,IAAI,CAChBF,aAAa,CAACG,MAAM,CACpBH,aAAa,CAACI,GAAG,CAEhB,CAAG,EAAE,CAChBU,eAAe,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAC7DC,oBAAoB,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CACnE,CAAC,CAEL,CAAC,CAID,GAAMC,QAAO,CAAG,CACdC,UAAU,CAAE,IAAI,CAAE;AAClBC,mBAAmB,CAAE,KAAO;AAC5B;AAEF,CAAC,CAGD,mBACE,YAAM,KAAK,CAAE,CAACC,QAAQ,CAAE,UAAU,CAAEC,MAAM,CAAC,MAAM,CAAGC,KAAK,CAAC,MAAM,CAAE,uBAClE,KAAC,QAAQ,EAAC,IAAI,CAAEV,IAAK,CAAC,OAAO,CAAEK,OAAQ,EAAE,EACnC,CAKV,CAAC,CACD,cAAepB,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}