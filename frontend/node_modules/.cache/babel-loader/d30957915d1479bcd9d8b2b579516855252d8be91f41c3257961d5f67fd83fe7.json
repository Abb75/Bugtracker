{"ast":null,"code":"import{Height}from'@mui/icons-material';import AccountCircleIcon from'@mui/icons-material/AccountCircle';import'./DropdownProfile.css';import IconButton from\"@mui/material/IconButton\";import{Icon}from'@mui/material';import Dropdown from'react-bootstrap/Dropdown';import DropdownButton from'react-bootstrap/DropdownButton';import{Logout}from'./Logout';import{Link,useNavigate}from'react-router-dom';import axiosInstance from'../../axios';//import { DeleteUserData, GetUserApi } from '../redux/actions/userActions';\nimport{useDispatch}from'react-redux';import{logout}from'../../redux/actions/userActions';import{GetCurrentUser,GetTokenUser}from'../../redux/selectors/userSelectors';import'./Logout.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var HandleLogout=function HandleLogout(){var tokenUser=GetTokenUser();var currentUser=GetCurrentUser();var dispatch=useDispatch();var navigate=useNavigate();var HandleLogout=function HandleLogout(){dispatch(logout(tokenUser));navigate('/login');};var handleProfileClick=function handleProfileClick(){navigate('/profile');};var handlePasswordClick=function handlePasswordClick(){navigate('/change-password');};return/*#__PURE__*/_jsxs(DropdownButton,{id:\"dropdown-button-dark-example2\",variant:\"text\",menuVariant:\"white\",title:currentUser===null||currentUser===void 0?void 0:currentUser.first_name,style:{fontFamily:'inherit',fontSize:'1rem'},children:[/*#__PURE__*/_jsx(Dropdown.Item,{onClick:handleProfileClick,children:\"My account\"}),/*#__PURE__*/_jsx(Dropdown.Item,{onClick:handlePasswordClick,children:\"Change password\"}),/*#__PURE__*/_jsx(Dropdown.Divider,{}),tokenUser?/*#__PURE__*/_jsx(Dropdown.Item,{as:\"button\",onClick:function onClick(){return HandleLogout();},children:\"Logout\"}):/*#__PURE__*/_jsx(Dropdown.Item,{disabled:true,as:\"button\",children:\"Logout\"})]});};","map":{"version":3,"names":["Height","AccountCircleIcon","IconButton","Icon","Dropdown","DropdownButton","Logout","Link","useNavigate","axiosInstance","useDispatch","logout","GetCurrentUser","GetTokenUser","HandleLogout","tokenUser","currentUser","dispatch","navigate","handleProfileClick","handlePasswordClick","first_name","fontFamily","fontSize"],"sources":["C:/Users/Alexandre Brosseau/Desktop/bug_tracker/frontend/src/components/auth/Logout.js"],"sourcesContent":["import { Height } from '@mui/icons-material';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport './DropdownProfile.css';\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { Icon } from '@mui/material';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport { Logout } from './Logout';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axiosInstance from '../../axios';\r\n//import { DeleteUserData, GetUserApi } from '../redux/actions/userActions';\r\nimport { useDispatch } from 'react-redux';\r\nimport {logout} from '../../redux/actions/userActions';\r\nimport { GetCurrentUser, GetTokenUser } from '../../redux/selectors/userSelectors';\r\nimport './Logout.css'\r\n\r\nexport const HandleLogout = () => {\r\n\r\n    const tokenUser = GetTokenUser()\r\n    const currentUser =  GetCurrentUser()\r\n    const dispatch = useDispatch()\r\n   \r\n    const navigate = useNavigate()\r\n   \r\n\r\n    const HandleLogout = () => {\r\n      \r\n            dispatch(logout(tokenUser))\r\n            \r\n            navigate('/login')\r\n      \r\n    }\r\n\r\n    const handleProfileClick = () => {\r\n        navigate('/profile');\r\n      };\r\n      const handlePasswordClick = () => {\r\n        navigate('/change-password');\r\n      };\r\n    \r\n    \r\n \r\n\r\n    return(\r\n   \r\n    <DropdownButton\r\n    id=\"dropdown-button-dark-example2\"\r\n    variant='text'\r\n    menuVariant=\"white\"\r\n    title={currentUser?.first_name}\r\n    style={{ fontFamily: 'inherit', fontSize: '1rem' }}\r\n  >\r\n    \r\n      <Dropdown.Item onClick={handleProfileClick}>My account</Dropdown.Item>\r\n      <Dropdown.Item onClick={handlePasswordClick}>Change password</Dropdown.Item>\r\n   \r\n    <Dropdown.Divider />\r\n    {tokenUser ? (\r\n      <Dropdown.Item as='button' onClick={() => HandleLogout()}>Logout</Dropdown.Item>\r\n    ) : (\r\n      <Dropdown.Item disabled as=\"button\">Logout</Dropdown.Item>\r\n    )}\r\n  </DropdownButton>\r\n);}"],"mappings":"AAAA,OAASA,MAAM,KAAQ,qBAAqB,CAC5C,MAAOC,kBAAiB,KAAM,mCAAmC,CACjE,MAAO,uBAAuB,CAC9B,MAAOC,WAAU,KAAM,0BAA0B,CACjD,OAASC,IAAI,KAAQ,eAAe,CACpC,MAAOC,SAAQ,KAAM,0BAA0B,CAC/C,MAAOC,eAAc,KAAM,gCAAgC,CAC3D,OAASC,MAAM,KAAQ,UAAU,CACjC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAOC,cAAa,KAAM,aAAa,CACvC;AACA,OAASC,WAAW,KAAQ,aAAa,CACzC,OAAQC,MAAM,KAAO,iCAAiC,CACtD,OAASC,cAAc,CAAEC,YAAY,KAAQ,qCAAqC,CAClF,MAAO,cAAc,yFAErB,MAAO,IAAMC,aAAY,CAAG,uBAAM,CAE9B,GAAMC,UAAS,CAAGF,YAAY,EAAE,CAChC,GAAMG,YAAW,CAAIJ,cAAc,EAAE,CACrC,GAAMK,SAAQ,CAAGP,WAAW,EAAE,CAE9B,GAAMQ,SAAQ,CAAGV,WAAW,EAAE,CAG9B,GAAMM,aAAY,CAAG,QAAfA,aAAY,EAAS,CAEnBG,QAAQ,CAACN,MAAM,CAACI,SAAS,CAAC,CAAC,CAE3BG,QAAQ,CAAC,QAAQ,CAAC,CAE1B,CAAC,CAED,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC7BD,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CACD,GAAME,oBAAmB,CAAG,QAAtBA,oBAAmB,EAAS,CAChCF,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CAAC,CAKH,mBAEA,MAAC,cAAc,EACf,EAAE,CAAC,+BAA+B,CAClC,OAAO,CAAC,MAAM,CACd,WAAW,CAAC,OAAO,CACnB,KAAK,CAAEF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEK,UAAW,CAC/B,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAO,CAAE,wBAGjD,KAAC,QAAQ,CAAC,IAAI,EAAC,OAAO,CAAEJ,kBAAmB,UAAC,YAAU,EAAgB,cACtE,KAAC,QAAQ,CAAC,IAAI,EAAC,OAAO,CAAEC,mBAAoB,UAAC,iBAAe,EAAgB,cAE9E,KAAC,QAAQ,CAAC,OAAO,IAAG,CACnBL,SAAS,cACR,KAAC,QAAQ,CAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAE,yBAAMD,aAAY,EAAE,EAAC,UAAC,QAAM,EAAgB,cAEhF,KAAC,QAAQ,CAAC,IAAI,EAAC,QAAQ,MAAC,EAAE,CAAC,QAAQ,UAAC,QAAM,EAC3C,GACc,CACjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}